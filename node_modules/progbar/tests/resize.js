#!/usr/bin/env node

var mod_progbar = require('../lib/progbar');

var SZ = 1234567;
var RT = 937;
var PS = 0;
var IX = 0;

var bar = null;
var iv;

function
new_bar()
{
  bar = new mod_progbar.ProgressBar({
    filename: 'whatever thing',
    bytes: false,
    nosize: true
  });

  setInterval(function () {
    bar.advance(RT);
  }, 250);

  setTimeout(function () {
    bar.log(' * one');
    bar.resize(SZ);
  }, 4 * 1000);
  setTimeout(function () {
    bar.log(' * two');
    RT *= 10;
  }, 8 * 1000);
  setTimeout(function () {
    bar.log(' * three');
    bar.resize(SZ * 2);
  }, 12 * 1000);
}

new_bar();
